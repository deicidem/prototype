import{r as e}from"./root__loadShare__vue__loadShare__-d3MD0kem.js";import{b,g as B,c as x,d as M,h as D,i as F,e as U,j as k,f as q,k as z,n as $,o as W,a as _,u as T,m as C,_ as j}from"./index-ClG5EgTD.js";import{u as p}from"./index-BByXQTaY.js";import{r as R}from"./root__loadShare__pinia__loadShare__-BImxNIjv.js";import{q as S,s as y,y as G,a as P,z as O,x as N,A as Y,b as J,d as K,B as Q,C as X,E as Z,F as ee,G as te,H as ae,n as le}from"./icons-D77iILXD.js";import{V as oe,a as se}from"./VImg-mgTW4R2g.js";import"./root__mf_v__runtimeInit__mf_v__-C_EIj1Ck.js";import"./preload-helper-CLcXU_4U.js";const ne=y({text:String,...x(),...B()},"VToolbarTitle"),re=S()({name:"VToolbarTitle",props:ne(),setup(t,u){let{slots:a}=u;return b(()=>{const s=!!(a.default||a.text||t.text);return e.createVNode(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>[s&&e.createVNode("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():t.text,a.default?.()])]})}),{}}}),ue=[null,"prominent","default","comfortable","compact"],E=y({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>ue.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...$(),...x(),...z(),...q(),...B({tag:"header"}),...Y()},"VToolbar"),H=S()({name:"VToolbar",props:E(),setup(t,u){let{slots:a}=u;const{backgroundColorClasses:s,backgroundColorStyles:n}=M(()=>t.color),{borderClasses:l}=D(t),{elevationClasses:i}=F(t),{roundedClasses:o}=U(t),{themeClasses:f}=G(t),{rtlClasses:V}=P(),d=e.shallowRef(!!(t.extended||a.extension?.())),v=e.computed(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),g=e.computed(()=>d.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return O({VBtn:{variant:"text"}}),b(()=>{const h=!!(t.title||a.title),c=!!(a.image||t.image),m=a.extension?.();return d.value=!!(t.extended||m),e.createVNode(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},s.value,l.value,i.value,o.value,f.value,V.value,t.class],style:[n.value,t.style]},{default:()=>[c&&e.createVNode("div",{key:"image",class:"v-toolbar__image"},[a.image?e.createVNode(k,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},a.image):e.createVNode(oe,{key:"image-img",cover:!0,src:t.image},null)]),e.createVNode(k,{defaults:{VTabs:{height:N(v.value)}}},{default:()=>[e.createVNode("div",{class:"v-toolbar__content",style:{height:N(v.value)}},[a.prepend&&e.createVNode("div",{class:"v-toolbar__prepend"},[a.prepend?.()]),h&&e.createVNode(re,{key:"title",text:t.title},{text:a.title}),a.default?.(),a.append&&e.createVNode("div",{class:"v-toolbar__append"},[a.append?.()])])]}),e.createVNode(k,{defaults:{VTabs:{height:N(g.value)}}},{default:()=>[e.createVNode(se,null,{default:()=>[d.value&&e.createVNode("div",{class:"v-toolbar__extension",style:{height:N(g.value)}},[m])]})]})]})}),{contentHeight:v,extensionHeight:g}}}),ie=y({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ce(t){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=u;let s=0,n=0;const l=e.ref(null),i=e.shallowRef(0),o=e.shallowRef(0),f=e.shallowRef(0),V=e.shallowRef(!1),d=e.shallowRef(!1),v=e.computed(()=>Number(t.scrollThreshold)),g=e.computed(()=>J((v.value-i.value)/v.value||0)),h=()=>{const c=l.value;if(!c||a&&!a.value)return;s=i.value,i.value="window"in c?c.pageYOffset:c.scrollTop;const m=c instanceof Window?document.documentElement.scrollHeight:c.scrollHeight;if(n!==m){n=m;return}d.value=i.value<s,f.value=Math.abs(i.value-v.value)};return e.watch(d,()=>{o.value=o.value||i.value}),e.watch(V,()=>{o.value=0}),e.onMounted(()=>{e.watch(()=>t.scrollTarget,c=>{const m=c?document.querySelector(c):window;if(!m){K(`Unable to locate element with identifier ${c}`);return}m!==l.value&&(l.value?.removeEventListener("scroll",h),l.value=m,l.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),e.onBeforeUnmount(()=>{l.value?.removeEventListener("scroll",h)}),a&&e.watch(a,h,{immediate:!0}),{scrollThreshold:v,currentScroll:i,currentThreshold:f,isScrollActive:V,scrollRatio:g,isScrollingUp:d,savedScroll:o}}function A(){const t=e.shallowRef(!1);return e.onMounted(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:e.toRef(()=>t.value?void 0:{transition:"none !important"}),isBooted:e.readonly(t)}}const de=y({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...E(),...ee(),...ie(),height:{type:[Number,String],default:64}},"VAppBar"),ve=S()({name:"VAppBar",props:de(),emits:{"update:modelValue":t=>!0},setup(t,u){let{slots:a}=u;const s=e.ref(),n=Q(t,"modelValue"),l=e.computed(()=>{const r=new Set(t.scrollBehavior?.split(" ")??[]);return{hide:r.has("hide"),fullyHide:r.has("fully-hide"),inverted:r.has("inverted"),collapse:r.has("collapse"),elevate:r.has("elevate"),fadeImage:r.has("fade-image")}}),i=e.computed(()=>{const r=l.value;return r.hide||r.fullyHide||r.inverted||r.collapse||r.elevate||r.fadeImage||!n.value}),{currentScroll:o,scrollThreshold:f,isScrollingUp:V,scrollRatio:d}=ce(t,{canScroll:i}),v=e.toRef(()=>l.value.hide||l.value.fullyHide),g=e.computed(()=>t.collapse||l.value.collapse&&(l.value.inverted?d.value>0:d.value===0)),h=e.computed(()=>t.flat||l.value.fullyHide&&!n.value||l.value.elevate&&(l.value.inverted?o.value>0:o.value===0)),c=e.computed(()=>l.value.fadeImage?l.value.inverted?1-d.value:d.value:void 0),m=e.computed(()=>{if(l.value.hide&&l.value.inverted)return 0;const r=s.value?.contentHeight??0,w=s.value?.extensionHeight??0;return v.value?o.value<f.value||l.value.fullyHide?r+w:r:r+w});X(()=>!!t.scrollBehavior,()=>{e.watchEffect(()=>{v.value?l.value.inverted?n.value=o.value>f.value:n.value=V.value||o.value<f.value:n.value=!0})});const{ssrBootStyles:I}=A(),{layoutItemStyles:L}=Z({id:t.name,order:e.computed(()=>parseInt(t.order,10)),position:e.toRef(()=>t.location),layoutSize:m,elementSize:e.shallowRef(void 0),active:n,absolute:e.toRef(()=>t.absolute)});return b(()=>{const r=H.filterProps(t);return e.createVNode(H,e.mergeProps({ref:s,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...L.value,"--v-toolbar-image-opacity":c.value,height:void 0,...I.value},t.style]},r,{collapse:g.value,flat:h.value}),a)}),{}}}),me={class:"mr-5"},fe={key:0,class:"d-flex align-center"},he={class:"mr-4"},ge=e.defineComponent({__name:"AppHeader",setup(t){const{logout:u}=p(),{isAuthenticated:a,user:s}=R.storeToRefs(p()),{isBTeamAccessible:n,isCTeamAccessible:l}=R.storeToRefs(W());return(i,o)=>(e.openBlock(),e.createBlock(ve,{color:"secondary",flat:""},{title:e.withCtx(()=>[e.createVNode(_,{to:"/"},{default:e.withCtx(()=>o[0]||(o[0]=[e.createTextVNode(" Главная ")])),_:1,__:[0]}),e.unref(n)?(e.openBlock(),e.createBlock(_,{key:0,to:"/b-team"},{default:e.withCtx(()=>o[1]||(o[1]=[e.createTextVNode(" Функционал B ")])),_:1,__:[1]})):e.createCommentVNode("",!0),e.unref(l)?(e.openBlock(),e.createBlock(_,{key:1,to:"/c-team"},{default:e.withCtx(()=>o[2]||(o[2]=[e.createTextVNode(" Функционал C ")])),_:1,__:[2]})):e.createCommentVNode("",!0)]),default:e.withCtx(()=>[e.createElementVNode("div",me,[e.unref(a)&&e.unref(s)?(e.openBlock(),e.createElementBlock("div",fe,[e.createElementVNode("div",he," Привет, "+e.toDisplayString(e.unref(s).userName),1),e.createVNode(_,{onClick:e.unref(u)},{default:e.withCtx(()=>o[3]||(o[3]=[e.createTextVNode(" Выйти ")])),_:1,__:[3]},8,["onClick"])])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(_,{to:"/auth/login"},{default:e.withCtx(()=>o[4]||(o[4]=[e.createTextVNode(" Вход ")])),_:1,__:[4]}),e.createVNode(_,{to:"/auth/register"},{default:e.withCtx(()=>o[5]||(o[5]=[e.createTextVNode(" Регистрация ")])),_:1,__:[5]})],64))])]),_:1}))}}),ye=y({fluid:{type:Boolean,default:!1},...x(),...C(),...B()},"VContainer"),Ve=S()({name:"VContainer",props:ye(),setup(t,u){let{slots:a}=u;const{rtlClasses:s}=P(),{dimensionStyles:n}=T(t);return b(()=>e.createVNode(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},s.value,t.class],style:[n.value,t.style]},a)),{}}}),_e=y({...x(),...C(),...ae()},"VLayout"),be=S()({name:"VLayout",props:_e(),setup(t,u){let{slots:a}=u;const{layoutClasses:s,layoutStyles:n,getLayoutItem:l,items:i,layoutRef:o}=te(t),{dimensionStyles:f}=T(t);return b(()=>e.createVNode("div",{ref:o,class:[s.value,t.class],style:[f.value,n.value,t.style]},[a.default?.()])),{getLayoutItem:l,items:i}}}),Se=y({scrollable:Boolean,...x(),...C(),...B({tag:"main"})},"VMain"),xe=S()({name:"VMain",props:Se(),setup(t,u){let{slots:a}=u;const{dimensionStyles:s}=T(t),{mainStyles:n}=le(),{ssrBootStyles:l}=A();return b(()=>e.createVNode(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[n.value,l.value,s.value,t.style]},{default:()=>[t.scrollable?e.createVNode("div",{class:"v-main__scroller"},[a.default?.()]):a.default?.()]})),{}}}),Ne={};function Be(t,u){const a=ge,s=e.resolveComponent("RouterView");return e.openBlock(),e.createBlock(be,null,{default:e.withCtx(()=>[e.createVNode(a),e.createVNode(xe,{class:"bg-blue-grey-lighten-5"},{default:e.withCtx(()=>[e.createVNode(Ve,{class:"mt-4"},{default:e.withCtx(()=>[e.createVNode(s)]),_:1})]),_:1})]),_:1})}const Ee=j(Ne,[["render",Be]]);export{Ee as default};
