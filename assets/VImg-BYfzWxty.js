import{r as t}from"./root__loadShare__vue__loadShare__-BR0l2O5Z.js";import{q as w,s as V,t as $,v as E,w as M,x as J}from"./icons-C9bf14jq.js";import{u as X,c as L,m as Y,d as O,e as K,f as Q,g as Z}from"./index-B-4s6dAu.js";const ee=V({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function f(e,o,a){return w()({name:e,props:ee({mode:a,origin:o}),setup(i,c){let{slots:d}=c;const n={onBeforeEnter(r){i.origin&&(r.style.transformOrigin=i.origin)},onLeave(r){if(i.leaveAbsolute){const{offsetTop:v,offsetLeft:s,offsetWidth:l,offsetHeight:y}=r;r._transitionInitialStyles={position:r.style.position,top:r.style.top,left:r.style.left,width:r.style.width,height:r.style.height},r.style.position="absolute",r.style.top=`${v}px`,r.style.left=`${s}px`,r.style.width=`${l}px`,r.style.height=`${y}px`}i.hideOnLeave&&r.style.setProperty("display","none","important")},onAfterLeave(r){if(i.leaveAbsolute&&r?._transitionInitialStyles){const{position:v,top:s,left:l,width:y,height:h}=r._transitionInitialStyles;delete r._transitionInitialStyles,r.style.position=v||"",r.style.top=s||"",r.style.left=l||"",r.style.width=y||"",r.style.height=h||""}}};return()=>{const r=i.group?t.TransitionGroup:t.Transition;return t.h(r,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:n},d.default)}}})}function A(e,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return w()({name:e,props:{mode:{type:String,default:a},disabled:Boolean,group:Boolean},setup(i,c){let{slots:d}=c;const n=i.group?t.TransitionGroup:t.Transition;return()=>t.h(n,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:o},d.default)}})}function j(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=t.camelize(`offset-${a}`);return{onBeforeEnter(n){n._parent=n.parentNode,n._initialStyle={transition:n.style.transition,overflow:n.style.overflow,[a]:n.style[a]}},onEnter(n){const r=n._initialStyle;if(!r)return;n.style.setProperty("transition","none","important"),n.style.overflow="hidden";const v=`${n[i]}px`;n.style[a]="0",n.offsetHeight,n.style.transition=r.transition,e&&n._parent&&n._parent.classList.add(e),requestAnimationFrame(()=>{n.style[a]=v})},onAfterEnter:d,onEnterCancelled:d,onLeave(n){n._initialStyle={transition:"",overflow:n.style.overflow,[a]:n.style[a]},n.style.overflow="hidden",n.style[a]=`${n[i]}px`,n.offsetHeight,requestAnimationFrame(()=>n.style[a]="0")},onAfterLeave:c,onLeaveCancelled:c};function c(n){e&&n._parent&&n._parent.classList.remove(e),d(n)}function d(n){if(!n._initialStyle)return;const r=n._initialStyle[a];n.style.overflow=n._initialStyle.overflow,r!=null&&(n.style[a]=r),delete n._initialStyle}}f("fab-transition","center center","out-in");f("dialog-bottom-transition");f("dialog-top-transition");f("fade-transition");f("scale-transition");f("scroll-x-transition");f("scroll-x-reverse-transition");f("scroll-y-transition");f("scroll-y-reverse-transition");f("slide-x-transition");f("slide-x-reverse-transition");const ue=f("slide-y-transition");f("slide-y-reverse-transition");const ce=A("expand-transition",j()),de=A("expand-x-transition",j("",!0));function te(e){return{aspectStyles:t.computed(()=>{const o=Number(e.aspectRatio);return o?{paddingBottom:String(1/o*100)+"%"}:void 0})}}const F=V({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...O(),...Y()},"VResponsive"),k=w()({name:"VResponsive",props:F(),setup(e,o){let{slots:a}=o;const{aspectStyles:i}=te(e),{dimensionStyles:c}=X(e);return L(()=>t.createVNode("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[c.value,e.style]},[t.createVNode("div",{class:"v-responsive__sizer",style:i.value},null),a.additional?.(),a.default&&t.createVNode("div",{class:["v-responsive__content",e.contentClass]},[a.default()])])),{}}}),ne=V({transition:{type:null,default:"fade-transition",validator:e=>e!==!0}},"transition"),b=(e,o)=>{let{slots:a}=o;const{transition:i,disabled:c,group:d,...n}=e,{component:r=d?t.TransitionGroup:t.Transition,...v}=$(i)?i:{};let s;return $(i)?s=t.mergeProps(v,JSON.parse(JSON.stringify({disabled:c,group:d})),n):s=t.mergeProps({name:c||!i?"":i},n),t.h(r,s,a)};function re(e,o){if(!E)return;const a=o.modifiers||{},i=o.value,{handler:c,options:d}=typeof i=="object"?i:{handler:i,options:{}},n=new IntersectionObserver(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0;const s=e._observe?.[o.instance.$.uid];if(!s)return;const l=r.some(y=>y.isIntersecting);c&&(!a.quiet||s.init)&&(!a.once||l||s.init)&&c(l,r,v),l&&a.once?U(e,o):s.init=!0},d);e._observe=Object(e._observe),e._observe[o.instance.$.uid]={init:!1,observer:n},n.observe(e)}function U(e,o){const a=e._observe?.[o.instance.$.uid];a&&(a.observer.unobserve(e),delete e._observe[o.instance.$.uid])}const ie={mounted:re,unmounted:U},ae=V({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...F(),...O(),...Z(),...ne()},"VImg"),fe=w()({name:"VImg",directives:{intersect:ie},props:ae(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,o){let{emit:a,slots:i}=o;const{backgroundColorClasses:c,backgroundColorStyles:d}=K(()=>e.color),{roundedClasses:n}=Q(e),r=M("VImg"),v=t.shallowRef(""),s=t.ref(),l=t.shallowRef(e.eager?"loading":"idle"),y=t.shallowRef(),h=t.shallowRef(),g=t.computed(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),_=t.computed(()=>g.value.aspect||y.value/h.value||0);t.watch(()=>e.src,()=>{N(l.value!=="idle")}),t.watch(_,(u,m)=>{!u&&m&&s.value&&S(s.value)}),t.onBeforeMount(()=>N());function N(u){if(!(e.eager&&u)&&!(E&&!u&&!e.eager)){if(l.value="loading",g.value.lazySrc){const m=new Image;m.src=g.value.lazySrc,S(m,null)}g.value.src&&t.nextTick(()=>{a("loadstart",s.value?.currentSrc||g.value.src),setTimeout(()=>{if(!r.isUnmounted)if(s.value?.complete){if(s.value.naturalWidth||P(),l.value==="error")return;_.value||S(s.value,null),l.value==="loading"&&x()}else _.value||S(s.value),R()})})}}function x(){r.isUnmounted||(R(),S(s.value),l.value="loaded",a("load",s.value?.currentSrc||g.value.src))}function P(){r.isUnmounted||(l.value="error",a("error",s.value?.currentSrc||g.value.src))}function R(){const u=s.value;u&&(v.value=u.currentSrc||u.src)}let T=-1;t.onBeforeUnmount(()=>{clearTimeout(T)});function S(u){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const z=()=>{if(clearTimeout(T),r.isUnmounted)return;const{naturalHeight:B,naturalWidth:C}=u;B||C?(y.value=C,h.value=B):!u.complete&&l.value==="loading"&&m!=null?T=window.setTimeout(z,m):(u.currentSrc.endsWith(".svg")||u.currentSrc.startsWith("data:image/svg+xml"))&&(y.value=1,h.value=1)};z()}const p=t.toRef(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),W=()=>{if(!g.value.src||l.value==="idle")return null;const u=t.createVNode("img",{class:["v-img__img",p.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:g.value.src,srcset:g.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:s,onLoad:x,onError:P},null),m=i.sources?.();return t.createVNode(b,{transition:e.transition,appear:!0},{default:()=>[t.withDirectives(m?t.createVNode("picture",{class:"v-img__picture"},[m,u]):u,[[t.vShow,l.value==="loaded"]])]})},q=()=>t.createVNode(b,{transition:e.transition},{default:()=>[g.value.lazySrc&&l.value!=="loaded"&&t.createVNode("img",{class:["v-img__img","v-img__img--preload",p.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:g.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),H=()=>i.placeholder?t.createVNode(b,{transition:e.transition,appear:!0},{default:()=>[(l.value==="loading"||l.value==="error"&&!i.error)&&t.createVNode("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,D=()=>i.error?t.createVNode(b,{transition:e.transition,appear:!0},{default:()=>[l.value==="error"&&t.createVNode("div",{class:"v-img__error"},[i.error()])]}):null,G=()=>e.gradient?t.createVNode("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,I=t.shallowRef(!1);{const u=t.watch(_,m=>{m&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{I.value=!0})}),u())})}return L(()=>{const u=k.filterProps(e);return t.withDirectives(t.createVNode(k,t.mergeProps({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!I.value},c.value,n.value,e.class],style:[{width:J(e.width==="auto"?y.value:e.width)},d.value,e.style]},u,{aspectRatio:_.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>t.createVNode(t.Fragment,null,[t.createVNode(W,null,null),t.createVNode(q,null,null),t.createVNode(G,null,null),t.createVNode(H,null,null),t.createVNode(D,null,null)]),default:i.default}),[[t.resolveDirective("intersect"),{handler:N,options:e.options},null,{once:!0}]])}),{currentSrc:v,image:s,state:l,naturalWidth:y,naturalHeight:h}}});export{ie as I,b as M,fe as V,ce as a,ue as b,de as c,ne as m};
